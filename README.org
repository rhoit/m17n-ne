#+TITLE: m17n-ne
#+DESCRIPTION: ne-NP im varient for ibus-m17n
#+DATE: Friday, Dec 04 2015
#+OPTIONS: num:t toc:nil
#+STARTUP: showall

Nepali input method variant for ibus-m17n.

* Getting It

** Requirements

   | system       | supporting ibus     |
   | dependencies | *ibus*, *m17n-db*   |


** Install

  #+begin_src bash
    # make install
  #+end_src

  restart the *ibus* for changes to appear.

  #+begin_src bash
    $ ibus restart
  #+end_src

* About layouts

  We provived some of the layout not offered by the *m17n-db*.
  m17n provides the handy way to add, layout see [[http://www.nongnu.org/m17n/manual-en/index.html][tutorial]].

** lipi

*** Why ?

    - Few frequently used symbol unavailable in romanized layout,
      resulting in constant switching.

    - Vanilla Romanized isn't idiot proof

    - Romanized layout was designed for fixed layout.

*** Design

    Lipi (लिपि) is *not* the /complete/ _new_ layout, it is based on
    *nepali romanized layout*.


**** freeing up symbols

     | symbol | in romanized    | in lipi              | alternatives in lipi    |
     |--------+-----------------+----------------------+-------------------------|
     | ङ      | *sequence*: '<' | Changed to 'Z'       | *sequence*: 'Z'         |
     |        | *tokens*: ङ     | freed '<'            | *tokens*:  ङ            |
     | ऋ      | *sequence*: 'Z' | Changed to phonetic  | *sequence*: 'rii'       |
     |        | *tokens*: ऋ     | replaced by 'ङ'      | *tokens*:  र +  ि + ि   |
     | इ      | *sequence*: '[' | Changed to phonetic  | *sequence*: ie          |
     |        | *tokens*: इ     | freed '['            | *tokens*:  ि + े         |
     | ई      | *sequence*: '{' | Changed to phonetic  | *sequence*: 'iee'       |
     |        | *tokens*: ई     | freed '{'            | *tokens*:  ि + े + े      |
     | ए      | *sequence*: ']' | Changed to 'E'       | *sequence*: 'E'         |
     |        | *tokens*: ए     | freed ']'            | *tokens*:  ए            |
     | ै       | *sequence*: 'E' | Changed to idiomatic | *sequence*: 'ee'        |
     |        | *tokens*: ै      | replaced by 'ए'      | *tokens*:  े + े          |
     | ऐ      | *sequence*: '}' | Changed to idiomatic | *sequence*: 'Ee'        |
     |        | *tokens*: ऐ     | freed ']'            | *tokens*:  ए + े         |
     | ॐ      | *sequence*: '\' | Changed to idiomatic | *sequence*: 'FV', 'ffV' |
     |        | *tokens*: ऐ     | freed '\'            | *tokens*:  ऊ + ँ         |
     |        |                 |                      | *tokens*: उ + उ  + ँ     |


**** phonetic completion

     *NOTE*: most of romanized methods also works, see *still works*
     column

     | symbol | in romanized       | still works | alternatives in lipi       |
     |--------+--------------------+-------------+----------------------------|
     | त्र     | *sequence*: 't/r'  | Yes         | *sequence*: 'traa'         |
     |        | *tokens*: त + ् + र |             | *tokens*: त +  र + ा + ा   |
     | क्ष     | *sequence*: 'k/z'  | Yes         | *sequence*: 'chyaa'        |
     |        | *tokens*: क + ् + ष |             | *tokens*: छ +  ह + ा + ा   |
     | ज्ञ     | *sequence*: 'j/Y'  | Yes         | *sequence*: 'gyaa', 'jyaa' |
     |        | *tokens*: ज + ् + ञ |             | *tokens*: ग + य + ा + ा    |
     |        |                    |             | *tokens*: ज + य + ा + ा    |


**** zero width (non-)joiner

     Most of us never knew the secret of typing "न्‍न" since you always
     got "न्न". Problem was quite there was separate separate key
     assigned to *Zero Width Joiner (ZWJ)*, which was invisible
     cumbersome to find!

     | sequence | tokens | result  |
     |----------+--------+---------|
     | /        | ्       | ्        |
     | //       | ् + ्    | ् + ZWJ  |
     | ///      | ् + ् + ् | ् + ZNWJ |


**** idiomatic corrections

     Since we always knew these were wrong!

     #+begin_quote
     आ ≠ अ + ा

     ओ ≠ अ + ो

     ओ ≠ अ + ा + ो

     ऐ ≠ ए + े

     ै ≠ े + े

     ॐ ≠ ऊ + ँ
     #+end_quote

     Now its all *right*. No more hunt and peak आ, ओ, ऐ when
     *spell-checker* will not mark you wrong.

* Cross Map Hacks

  Since *ibus* runs =setxkbmap= in background, which alternative
  layout, is reset to *us* (qwerty).

  as they say:

  #+begin_quote
  *Go Away Or I Will Replace You With A Very Small Shell Script*
  #+end_quote

** How to install

   for now it only works for dvorak layout, see =hijack.sh= script to
   change to other layout. Here is back story of endeavor.

   #+begin_src bash
     # make hijack
   #+end_src
